# apiVersion: "external-secrets.io/v1alpha1"
# kind: ExternalSecret
# metadata:
#   name: <WORKLOAD_CLUSTER_NAME>-argocd-connection
#   labels:
#     app.kubernetes.io/part-of: argocd
# spec:
#   target:
#     name: <WORKLOAD_CLUSTER_NAME>-argocd-connection
#     template:
#       metadata:
#         labels:
#           argocd.argoproj.io/secret-type: cluster
#       engineVersion: v2
#       data:
#         name: <WORKLOAD_CLUSTER_NAME>
#         server: "{{ .host }}"
#         config: |
#           {
#             "tlsClientConfig": {
#                 "caData": "{{ .cluster_ca_certificate | b64enc }}",
#                 "certData": "{{ .client_certificate | b64enc }}",
#                 "insecure": false,
#                 "keyData": "{{ .client_key | b64enc }}"
#               }
#           }
#   secretStoreRef:
#     kind: ClusterSecretStore
#     name: vault-kv-secret
#   refreshInterval: 10s
#   data:
#     - remoteRef:
#         key: clusters/<WORKLOAD_CLUSTER_NAME>
#         property: host
#       secretKey: host
#     - remoteRef:
#         key: clusters/<WORKLOAD_CLUSTER_NAME>
#         property: cluster_ca_certificate
#         conversionStrategy: Default
#       secretKey: cluster_ca_certificate
#     - remoteRef:
#         key: clusters/<WORKLOAD_CLUSTER_NAME>
#         property: client_certificate
#         conversionStrategy: Default
#       secretKey: client_certificate
#     - remoteRef:
#         key: clusters/<WORKLOAD_CLUSTER_NAME>
#         property: client_key
#         conversionStrategy: Default
#       secretKey: client_key