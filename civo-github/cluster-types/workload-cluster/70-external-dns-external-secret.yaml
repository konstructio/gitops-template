apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  annotations:
    argocd.argoproj.io/sync-wave: "0"
  name: <WORKLOAD_CLUSTER_NAME>-civo-creds
  namespace: external-dns
spec:
  data:
  - remoteRef:
      conversionStrategy: Default
      decodingStrategy: None
      key: external-dns
      property: civo-token
    secretKey: civo-token
  refreshInterval: 10s
  secretStoreRef:
    kind: ClusterSecretStore
    name: vault-kv-secret
  target:
    creationPolicy: Owner
    deletionPolicy: Retain
    name: <WORKLOAD_CLUSTER_NAME>-civo-creds
