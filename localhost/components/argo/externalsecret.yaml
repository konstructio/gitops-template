apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: minio-creds
  annotations:
    argocd.argoproj.io/sync-wave: "20"
spec:
  target:
    name: minio-creds
  secretStoreRef:
    kind: ClusterSecretStore
    name: vault-secrets-backend
  refreshInterval: 10s
  dataFrom:
    - extract:      
        key: /minio
# todo manually create this secret up front
# ---
# apiVersion: v1
# kind: Secret
# metadata:
#   name: minio-creds
#   namespace: argo
#   annotations:
#     argocd.argoproj.io/sync-wave: "20"
# type: Opaque
# data:
#   accesskey: ay1yYXk=
#   secretkey: ZmVlZGtyYXlzdGFycw==
